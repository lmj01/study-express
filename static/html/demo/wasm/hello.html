<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
        <title>wasm</title>
        <link rel="stylesheet" href="/css/register.min.css">
        <style>
            
        </style>
    </head>
    <body>
        <h1>hello wasm example</h1>
        <script>
            // const module1 = import('./wasm/wasm_hello.js');
            // module1.then(fn=>{
            //     fn.greet('Web-Assembly 1');
            // });                  
            WebAssembly.instantiateStreaming(fetch('./wasm/wasm_hello.wasm'))
            .then(module=>{
                console.log(module);
                const res = module.instance.exports.greet;
                res('Web-Assembly 2');
            });
        </script>
    </body>    
</html>