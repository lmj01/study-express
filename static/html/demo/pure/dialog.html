<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
        <title>dialog</title>
        <style>
        </style>
    </head>
    <body>      
            <dialog id="d1" open="open" hidden="true">
                    <p>Greetings, one and all!</p>
                    <input type="password">
                  </dialog>  
                  <button onclick="dClose(false)">open dialog1</button>
                  <button onclick="dClose(true)">close dialog1</button>
        <!-- Simple pop-up dialog box, containing a form -->
        <dialog id="favDialog">
            <form method="dialog">
            <section>
                <p><label for="favAnimal">Favorite animal:</label>
                <select id="favAnimal" name="favAnimal">
                <option></option>
                <option>Brine shrimp</option>
                <option>Red panda</option>
                <option>Spider monkey</option>
                </select></p>
            </section>
            <menu>
                <button id="cancel" type="reset">Cancel</button>
                <button type="submit">Confirm</button>
            </menu>
            </form>
        </dialog>

        <menu>
            <button id="updateDetails">Update details</button>
        </menu>

        <script>
            //(function() {
            var updateButton = document.getElementById('updateDetails');
            var cancelButton = document.getElementById('cancel');
            var dialog = document.getElementById('favDialog');
            dialog.returnValue = 'favAnimal';

            function openCheck(dialog) {
                if(dialog.open) {
                console.log('Dialog open');
                } else {
                console.log('Dialog closed');
                }
            }

            // Update button opens a modal dialog
            updateButton.addEventListener('click', function() {
                dialog.showModal();
                openCheck(dialog);
            });

            // Form cancel button closes the dialog box
            cancelButton.addEventListener('click', function() {
                dialog.close('animalNotChosen');
                openCheck(dialog);
            });

            //})();
        </script>
        <script>
            a = document.getElementById('d1');
            function dClose(show) {
                a.hidden = show;
            }
        </script>
    </body>    
</html>
